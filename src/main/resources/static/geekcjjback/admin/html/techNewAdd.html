<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <title>Title</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> -->
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="../../layui/css/layui.css" media="all">
    <!-- Include all Editor plugins CSS style. -->
    <link rel="stylesheet" href="../froalaeditor/css/froala_editor.pkgd.min.css">
    <!-- Include Code Mirror CSS. -->
    <link rel="stylesheet" href="../froalaeditor/codemirror.min.css">
    <!-- <script src="https://cdn.ckeditor.com/ckeditor5/12.4.0/classic/ckeditor.js"></script> -->
     <!-- async defer -->
    <link rel="stylesheet" href="../font-awesome/css/font-awesome.css" />
    <link rel="stylesheet" href="../froalaeditor/css/froala_editor.css">
    <link rel="stylesheet" href="../froalaeditor/css/froala_style.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/code_view.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/colors.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/emoticons.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/image_manager.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/image.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/line_breaker.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/table.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/char_counter.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/video.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/fullscreen.css">
    <link rel="stylesheet" href="../froalaeditor/css/plugins/file.css">
    <!-- <style rel="stylesheet">
        .froala_editor_wrapper > textarea[style*='z-index: 9999'] {
          position: absolute;
          top: -10000px;
          opacity: 0;
          display: none;
        }
    </style> -->
</head>
<body>
<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend style="text-align: center">科技资讯|热点新闻</legend>
</fieldset>
<div style="padding: 20px; background-color: #F2F2F2;">
  <div class="layui-row layui-col-space15">
      <div class="layui-col-md12">
        <div class="layui-card">
            <div class="layui-card-header">文章新增</div>
            <div class="layui-card-body">
                <div class="layui-form-item">
                    <label class="layui-form-label">文章标题</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入文章标题"
                               class="layui-input">
                    </div>
                </div>
                <!--橙色分割线-->
                <hr class="layui-bg-orange">
                <div class="layui-form-item">
                    <label class="layui-form-label">文章分类名</label>
                    <div class="layui-input-block">
                        <input type="text" name="title" lay-verify="title" autocomplete="off" placeholder="请输入文章分类名"
                               class="layui-input">
                    </div>
                </div>
                <!--蓝色分割线-->
                <hr class="layui-bg-blue">
            </div>
        </div>
      </div>
  </div>
</div>
<div class="layui-tab">
  <ul class="layui-tab-title">
    <li class="layui-this">CKeditor富文本编辑器</li>
    <li>FroalaEditor富文本编辑器</li>
    <li>layui富文本编辑器-发布文章</li>
  </ul>
  <div class="layui-tab-content">
    <div class="layui-tab-item layui-show">
      <!-- <form method="post"> -->
        <!-- <textarea id="summernote" name="editordata"></textarea> -->
        <div style="padding: 20px; background-color: #F2F2F2;">
          <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                  <div class="layui-card">
                      <div class="layui-card-body">
                          <!--存放内容-->
                          <div style="/*开启滚动条*/overflow-y: scroll !important;/*设置高度*/min-height: 200px !important;max-height: 460px !important;">
                            <textarea name="content" id="ck_editor" placeholder="开始写文章..." style="display:none;">
                                <p></p>
                            </textarea>
                          </div>
                          <div class="site-demo-button" style="margin-top: 20px;">
                            <button class="layui-btn site-demo-layedit" onclick="ck_editor_publish()" data-type="ck_editor_publish">发布</button>
                            <button class="layui-btn site-demo-layedit" onclick="ck_editor_htmlcontent()" data-type="ck_editor_htmlcontent">获取HTML内容</button>
                            <button class="layui-btn site-demo-layedit" onclick="ck_editor_text()" data-type="ck_editor_text">获取纯文本内容</button>
                            <button class="layui-btn site-demo-layedit" onclick="ck_editor_selection()" data-type="ck_editor_selection">获取编辑器选中内容</button>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
        </div>
      <!-- </form> -->
    </div>
    <div class="layui-tab-item">
      <!-- <form method="post"> -->
        <!-- <textarea id="summernote" name="editordata"></textarea> -->
        <div style="padding: 20px; background-color: #F2F2F2;">
          <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                  <div class="layui-card">
                      <div class="layui-card-body">
                        <div class="layui-form-item">
                          <!--存放内容-->
                          <div style="/*开启滚动条*/overflow-y: scroll !important;/*设置高度*/min-height: 200px !important;max-height: 460px !important;">
                            <textarea id="froala-editor" ></textarea>
                          </div>
                          <div class="site-demo-button" style="margin-top: 20px;">
                            <button class="layui-btn site-demo-layedit" onclick="froala_editor_publish()" data-type="froala_editor_publish">发布</button>
                            <button class="layui-btn site-demo-layedit" onclick="froala_editor_htmlcontent()" data-type="froala_editor_htmlcontent">获取HTML内容</button>
                            <button class="layui-btn site-demo-layedit" onclick="froala_editor_text()" data-type="froala_editor_text">获取纯文本内容</button>
                            <button class="layui-btn site-demo-layedit" onclick="froala_editor_selection()" data-type="froala_editor_selection">获取编辑器选中内容</button>
                          </div>
                        </div>
                      </div>
                  </div>
              </div>
          </div>
        </div>
      <!-- </form> -->
    </div>
    <div class="layui-tab-item">
        <!-- <div id="summernote"><p>Hello Summernote</p></div> -->
        <div style="padding: 20px; background-color: #F2F2F2;">
          <div class="layui-row layui-col-space15">
              <div class="layui-col-md12">
                  <div class="layui-card">
                    <div class="layui-card-body">
                      <div class="layui-form-item">
                          <!--存放内容-->
                          <textarea class="layui-textarea" id="LAY_editor" style="display: none"></textarea>
                          <div class="site-demo-button" style="margin-top: 20px;">
                            <button class="layui-btn site-demo-layedit" data-type="LAY_editor_publish">发布</button>
                            <button class="layui-btn site-demo-layedit" data-type="LAY_editor_htmlcontent">获取HTML内容</button>
                            <button class="layui-btn site-demo-layedit" data-type="LAY_editor_text">获取纯文本内容</button>
                            <button class="layui-btn site-demo-layedit" data-type="LAY_editor_selection">获取编辑器选中内容</button>
                          </div>
                      </div>
                    </div>
                  </div>
              </div>
          </div>
      </div>
    </div>
  </div>
</div>
<script type="text/javascript" src="../../layui/layui.all.js"></script>
<script src="../../js/jquery.min.js"></script>
<script src="../ckeditor/ckeditor.js" type="text/javascript" charset="utf-8"></script>
<script src="../ckeditor/translations/zh-cn.js" type="text/javascript" charset="utf-8"></script>
<!-- Include all Editor plugins JS files. -->
<script type="text/javascript" src="../froalaeditor/js/froala_editor.pkgd.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/froala_editor.min.js"></script>
<!-- Include Code Mirror JS. -->
<script type="text/javascript" src="../froalaeditor/codemirror.min.js"></script>
<script type="text/javascript" src="../froalaeditor/xml.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/align.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/code_beautifier.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/code_view.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/colors.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/draggable.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/emoticons.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/font_size.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/font_family.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/image.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/file.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/image_manager.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/line_breaker.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/link.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/lists.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/paragraph_format.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/paragraph_style.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/video.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/table.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/url.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/entities.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/char_counter.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/inline_style.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/save.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/plugins/fullscreen.min.js"></script>
<script type="text/javascript" src="../froalaeditor/js/languages/zh_cn.js"></script>
<!-- Include PDF export JS lib. -->
<script type="text/javascript" src="../froalaeditor/html2pdf.bundle.js"></script>
<script>
        layui.use('layedit', function () {
            var layedit = layui.layedit
                , $ = layui.jquery;
            layedit.set({
              uploadImage: {
                url: '' //接口url
                ,type: '' //默认post
              }
            });
            //注意：layedit.set 一定要放在 build 前面，否则配置全局接口将无效。
            //构建一个默认的编辑器
            var index = layedit.build('LAY_editor');

            //编辑器外部操作
            var active = {
              LAY_editor_htmlcontent: function () {
                  alert(layedit.getContent(index)); //获取编辑器内容
              }
              , LAY_editor_text: function () {
                  alert(layedit.getText(index)); //获取编辑器纯文本内容
              }
              , LAY_editor_selection: function () {
                  alert(layedit.getSelection(index));
              }
              , LAY_editor_publish: function(){
                  alert("发布");
              }
            };

            $('.site-demo-layedit').on('click', function () {
                var type = $(this).data('type');
                active[type] ? active[type].call(this) : '';
            });

        });
        //注意：选项卡 依赖 element 模块，否则无法进行功能性操作
        layui.use('element', function(){
          var element = layui.element;

          //…
        });
        // $(document).ready(function() {
        //     $('#summernote').summernote(
        //         {
        //         placeholder: 'Hello bootstrap 4',
        //         tabsize: 2,
        //         height: 400
        //     });
        // });
        var data,theCKEditor;
        ClassicEditor.create(document.querySelector('#ck_editor'), {
                ckfinder: {
                    uploadUrl: '/'
                }
            }
        ).then(editor => {
        window.editor = editor;
        theCKEditor=editor;
        data = editor.getData();
        console.log(data);
        })
        .catch(error => {
            console.log(error);
        });
        //超大屏幕的功能按钮
        var toolbarButtons   = ['fullscreen', 'bold', 'italic', 'underline', 'strikeThrough', 'subscript', 'superscript', 'fontFamily', 'fontSize', '|',
         'color', 'emoticons', 'inlineStyle', 'paragraphStyle', '|', 'paragraphFormat', 'align', 'formatOL', 'formatUL', 'outdent', 'indent', 'quote',
         'insertHR', '-', 'insertLink', 'insertImage', 'insertVideo', 'insertFile', 'insertTable', 'undo', 'redo', 'clearFormatting', 'selectAll', 'html'];
        //大屏幕的功能按钮
        var toolbarButtonsMD = ['fullscreen', 'bold', 'italic', 'underline', 'fontFamily', 'fontSize', 'color', 'paragraphStyle', 'paragraphFormat',
        'align', 'formatOL', 'formatUL', 'outdent', 'indent', 'quote', 'insertHR', 'insertLink', 'insertImage', 'insertVideo', 'insertFile',
        'insertTable', 'undo', 'redo', 'clearFormatting','selectAll','html'];
        //小屏幕的功能按钮
        var toolbarButtonsSM = ['fullscreen', 'bold', 'italic', 'underline', 'fontFamily', 'fontSize', 'insertLink', 'insertImage', 'insertTable', 'undo', 'redo'];
        //手机的功能按钮
        var toolbarButtonsXS = ['bold', 'italic', 'fontFamily', 'fontSize', 'undo', 'redo'];
        var froala_editor=new FroalaEditor('textarea#froala-editor',{
            placeholderText: '请输入内容', //默认填充内容
            charCounterCount: true,//默认 显示字数
            saveInterval: 5000,//不自动保存，默认10000，0为不自动保存
            //theme                  : "dark",//主题：dark，red，gray，royal，注意需要引入对应主题的css
            height: "300px",
            toolbarBottom: false,//默认
            toolbarButtonsMD: toolbarButtonsMD,
            toolbarButtonsSM: toolbarButtonsSM,
            toolbarButtonsXS: toolbarButtonsXS,
            toolbarInline: false,//true选中设置样式,默认false
            imageUploadMethod: 'POST',
            heightMin: 0,
            charCounterMax: -1,  //最大字数限制，-1为不限制
            saveURL: '${ctx}/webmana/article/saveArticle',  //自动保存的地址（body参数为html内容）
            saveParams: { postId: '1'},  //保存内容时传的参数
            spellcheck: false,  //是否允许浏览器对输入内容进行拼写检查
            imageUploadURL: '${ctx}/webmana/attachment/uploadArticleImg',//上传到本地服务器
            //imageUploadParams: {pid: '1'}, //上传图片时带的参数
            ///imageDefaultWidth: 100, //上传图片后的默认大小
            //imageResizeWithPercent: true,//不设置这个，imageDefaultWidth的单位为像素，设置后为%
            videoUploadURL:'${ctx}/webmana/attachment/uploadArticleVideo',
            //enter: ENTER_BR, //设置回车键功能
            language: 'zh_cn',
            fontFamilySelection: true,
            fontSizeSelection: true,
            paragraphFormatSelection: true
            // toolbarButtons: ['bold', 'italic', 'underline', 'paragraphFormat', 'align','color','fontSize','insertImage','insertTable','undo', 'redo']
        },
        function () {
            console.log(froala_editor.html.get())
        });
        function ck_editor_htmlcontent(){
            alert(theCKEditor.getData());
        }
        function ck_editor_text(){
            alert($('#ck_editor').innerHTML);
        }
        function froala_editor_htmlcontent(){
            //var html=$('#froala-editor').froalaEditor('html.get', true); //返回富文本编辑里面的html代码
            //alert(froala_editor.html.get());
            console.log(froala_editor.html.get());
        }
        function froala_editor_text(){
            alert(froala_editor.getText());
        }
</script>
</body>
</html>
